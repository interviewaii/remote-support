<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interview AI - License Generator</title>
    <style>
        body {
            font-family: system-ui, -apple-system, sans-serif;
            max-width: 600px;
            margin: 40px auto;
            padding: 20px;
            background: #f5f5f5;
        }

        .card {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        h1 {
            margin-top: 0;
            color: #333;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #555;
        }

        input,
        select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 16px;
            box-sizing: border-box;
        }

        button {
            width: 100%;
            padding: 12px;
            background: #2563eb;
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.2s;
        }

        button:hover {
            background: #1d4ed8;
        }

        #result {
            margin-top: 25px;
            display: none;
        }

        .key-display {
            background: #f0fdf4;
            border: 1px solid #bbf7d0;
            color: #166534;
            padding: 15px;
            border-radius: 6px;
            font-family: monospace;
            font-size: 20px;
            text-align: center;
            margin-top: 10px;
            letter-spacing: 1px;
            font-weight: bold;
        }

        .copy-btn {
            margin-top: 10px;
            background: white;
            border: 1px solid #ddd;
            color: #555;
            padding: 8px;
            font-size: 14px;
        }

        .copy-btn:hover {
            background: #f9fafb;
        }
    </style>
</head>

<body>
    <div class="card">
        <h1>ðŸ”‘ License Generator</h1>

        <div class="form-group">
            <label>Device ID</label>
            <input type="text" id="deviceId" placeholder="Paste Client's Device ID here" />
        </div>

        <div class="form-group">
            <label>Plan / Limit</label>
            <select id="limit">
                <option value="5">Basic (5 Screenshots)</option>
                <option value="10">Standard (10 Screenshots)</option>
                <option value="15">Plus (15 Screenshots)</option>
                <option value="50">Pro (50 Screenshots)</option>
                <option value="100">Elite (100 Screenshots)</option>
                <option value="300">Daily Unlimited (24 Hours)</option>
                <option value="week">Weekly Unlimited (7 Days)</option>
                <option value="month">Monthly Unlimited (30 Days)</option>
                <option value="hour1">1 Hour Unlimited</option>
                <option value="hour2">2 Hour Unlimited</option>
            </select>
        </div>

        <div class="form-group">
            <label>Duration (Days)</label>
            <input type="number" id="days" value="365" />
        </div>

        <button onclick="generate()">Generate License Key</button>

        <div id="result">
            <label>Generated Key:</label>
            <div class="key-display" id="keyOutput"></div>
            <button class="copy-btn" onclick="copyKey()">Copy to Clipboard</button>
        </div>
    </div>

    <script>
        const SALT = 'SECRET_SALT_2025';

        const TIERS = {
            '5': 'LIM5',
            '10': 'NM10',
            '15': 'NM15',
            '50': 'NM50',
            '100': 'N100',
            '300': 'DALY',
            'week': 'WEEK',
            'month': 'MNTH',
            'hour1': 'HR01',
            'hour2': 'HR02'
        };

        function generate() {
            const deviceId = document.getElementById('deviceId').value.trim();
            const limit = document.getElementById('limit').value;
            const days = parseInt(document.getElementById('days').value) || 365;

            if (!deviceId) {
                alert('Please enter a Device ID');
                return;
            }

            const tierCode = TIERS[limit];
            const deviceHash = deviceId.substring(0, 8).toUpperCase();

            // Calculate expiry
            const d = new Date();
            d.setDate(d.getDate() + days);
            const year = d.getFullYear();
            const month = String(d.getMonth() + 1).padStart(2, '0');
            const day = String(d.getDate()).padStart(2, '0');
            const expiry = `${year}${month}${day}`;

            // Generate Checksum
            const combined = `${tierCode}${deviceHash}${expiry}${SALT}`;
            let hash = 0;
            for (let i = 0; i < combined.length; i++) {
                const char = combined.charCodeAt(i);
                hash = ((hash << 5) - hash) + char;
                hash = hash & hash;
            }
            const checksum = Math.abs(hash).toString(36).substring(0, 4).toUpperCase();

            const key = `${tierCode}-${deviceHash}-${expiry}-${checksum}`;

            document.getElementById('keyOutput').textContent = key;
            document.getElementById('result').style.display = 'block';
        }

        function copyKey() {
            const key = document.getElementById('keyOutput').textContent;
            navigator.clipboard.writeText(key);
            alert('Copied!');
        }
    </script>
</body>

</html>